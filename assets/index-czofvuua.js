(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();const a="visitor_counter_cache";function d(){try{const t=localStorage.getItem(a);if(t)return t}catch{}return null}function l(t){try{localStorage.setItem(a,t)}catch{}}function s(t){const o=document.getElementById("visitor-counter");o&&t&&(o.textContent=String(t).padStart(6,"0"))}async function u(){document.getElementById("visitor-counter");const t=d();t&&s(t);try{const o=await fetch("/api/counter",{method:"POST",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error("Counter fetch failed");const c=await o.json();if(c.count){const n=String(c.count);l(n),s(n)}}catch(o){console.error("Counter error:",o)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();
